
    <p-accordion pDroppable="references" (onDrop)="drop($event)">

        <p-accordionTab>
            <p-header>
                {{header}}

            </p-header>
            <div class="ui-inputgroup">
                <button pButton type="button" (click)="onDelete()" label="Delete" icon="fa-close" [disabled]="!isChosen()"></button>
                <button pButton type="button" (click)="onAdd()" label="Add" icon="fa-plus"></button>
            </div>
            <p></p>
            <div >
                <p-dataTable [(value)]="references" [rows]="10" [paginator]="true" [pageLinks]="5" [rowsPerPageOptions]="[10,20,30,40,50,100]"
                    resizableColumns="true" columnResizeMode="expand" reorderableColumns="true" expandableRows="true" [editable]="true"
                    selectionMode="single" [(selection)]="selectedRow" 
                    (onEditComplete)="tableChanged($event)" dataKey="order">

                    <p-column *ngFor="let col of cols" [field]="col.field" [header]="col.header" [editable]="true" filter="true" filterMatchMode="contains"
                        sortable="true">
                        <ng-container *ngIf="col.field === 'order'">
                            <ng-template let-col let-row="rowData" let-i="rowIndex" pTemplate="body"  >
                                <input pInputText [ngModel]="row[col.field]"   (keyup)="onOrderChanged($event, i)"  required />
                            </ng-template>
                            <ng-template let-col let-row="rowData" let-i="rowIndex" pTemplate="editor" >
                                <input pInputText [ngModel]="row[col.field]"  />
                            </ng-template>
                        </ng-container>

                        <ng-container *ngIf="col.field === 'disabled' || col.field === 'readOnly'">
                            <ng-template let-col let-row="rowData" let-i="rowIndex" pTemplate="body">
                                <p-inputSwitch [ngModel]="references[col.field]" (onChange)="disabledChanged($event.checked, i)" [style]="{'width':'100%'}"></p-inputSwitch>
                            </ng-template>
                            <ng-template let-col let-row="rowData" pTemplate="editor">
                                <p-inputSwitch [ngModel]="references[col.field]"  [style]="{'width':'100%'}"></p-inputSwitch>
                            </ng-template>
                        </ng-container>

                        <ng-container *ngIf="col.field === 'validators'">
                            <ng-template let-col let-row="rowData" pTemplate="body">
                                <p-chips [ngModel]="references[col.field]" (onChange)="tableChanged($event)" [style]="{'width':'100%'}"></p-chips>
                            </ng-template>
                            <ng-template let-col let-row="rowData" pTemplate="editor">
                                <p-chips [(ngModel)]="references[col.field]"  [style]="{'width':'100%'}"></p-chips>
                            </ng-template>
                        </ng-container>

                        <ng-container *ngIf="col.field === 'type' ">
                            <ng-template let-col let-row="rowData" pTemplate="editor">
                                <p-dropdown [(ngModel)]="references[col.field]" (onChange)="tableChanged($event)" [style]="{'width':'100%'}" appendTo="body" [options]="formTypeOptions"></p-dropdown>
                            </ng-template>
                        </ng-container>

                    </p-column>
                </p-dataTable>
            </div>
        </p-accordionTab>

    </p-accordion>
